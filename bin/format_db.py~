#!/usr/bin/env python

import sys
import re


fasta_file = sys.argv[1]


# Match description line
pattern = re.compile(r'^>sp\|(\S*?)\|(\S*?) (.*)')

formatted_fasta = ''

with open(fasta_file, 'r') as fin:
  for line in fin:
    match = re.match(pattern, line)
    if match:
      formatted_fasta + = '>' + match.group(1) + " " + match.group(2) + " " + math.group(3)
    else:
      formatted_fasta += line

with open(fasta_file, 'w') as fout:
  fout.write(formated_fasta)
